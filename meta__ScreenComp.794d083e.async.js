!(function(){"use strict";var A=Object.defineProperty,I=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var T=(a,e,n)=>e in a?A(a,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[e]=n,h=(a,e)=>{for(var n in e||(e={}))L.call(e,n)&&T(a,n,e[n]);if(S)for(var n of S(e))R.call(e,n)&&T(a,n,e[n]);return a},j=(a,e)=>I(a,F(e));(self.webpackChunklin_lib=self.webpackChunklin_lib||[]).push([[382],{59836:function(a,e,n){n.r(e),n.d(e,{demos:function(){return d}});var t=n(90228),r=n.n(t),u=n(87999),l=n.n(u),c=n(75271),i=n(43239),o=n(44403),d={"src-screen-comp-demo-0":{component:c.memo(c.lazy(l()(r()().mark(function f(){var _,m;return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Promise.resolve().then(n.bind(n,44403));case 2:return _=s.sent,m=_.default,s.abrupt("return",{default:function(){return c.createElement(m,{num:100})}});case 5:case"end":return s.stop()}},f)})))),asset:{type:"BLOCK",id:"src-screen-comp-demo-0",refAtomIds:[],dependencies:{"index.jsx":{type:"FILE",value:`import DynamicNum from './DynamicNum';

export default () => {
  return <DynamicNum num={100} />
}`},"./DynamicNum.jsx":{type:"FILE",value:n(47120).Z}},entry:"index.jsx"},context:{"./DynamicNum.jsx":o,"/home/runner/work/lin-lib/lin-lib/src/ScreenComp/DynamicNum/index.jsx":o},renderOpts:{compile:function(){var f=l()(r()().mark(function m(){var b,s=arguments;return r()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,Promise.all([n.e(379),n.e(675)]).then(n.bind(n,80675));case 2:return y.abrupt("return",(b=y.sent).default.apply(b,s));case 3:case"end":return y.stop()}},m)}));function _(){return f.apply(this,arguments)}return _}()}}}},44403:function(a,e,n){n.r(e);var t=n(48305),r=n.n(t),u=n(75271),l=n(72630),c=n(52676),i=function(d){var f=d.className,_=d.style,m=d.num,b=d.duration,s=d.loopDuration,g=(0,u.useState)("--"),y=r()(g,2),M=y[0],P=y[1];return(0,u.useEffect)(function(){if(!(0,l.isNumber)(m)){P("--");return}var v,O,p=function E(){var D=m/20,N=0,C=Number.isInteger(+m);v=setInterval(function(){N+=D,N>m&&(clearInterval(v),O=setTimeout(E,s||1e4),N=m),P((0,l.toFixed)(N,C?0:2))},b||50)};return p(),function(){clearInterval(v),clearTimeout(O)}},[m]),(0,c.jsx)("strong",{className:f,style:_,children:M})};e.default=i},29926:function(a,e,n){n.r(e),n.d(e,{texts:function(){return r}});var t=n(43239);const r=[]},47120:function(a,e){e.Z=`// \u6570\u5B57\u8DF3\u52A8\u7EC4\u4EF6
import { useEffect } from "react";
import { useState } from "react";
import { isNumber, toFixed } from "uc-fun";

const DynamicNum = ({ className, style, num, duration, loopDuration }) => {
  const [curNum, setCurNum] = useState('--');

  useEffect(() => {
    if (!isNumber(num)) {
      setCurNum('--');
      return;
    }
    let timer;
    let timeoutTimer;
    const tickNum = () => {
      const step = num / 20;
      let cur = 0;
      const isInt = Number.isInteger(+num);
      timer = setInterval(() => {
        cur += step;
        if (cur > num) {
          clearInterval(timer);
          // \u5FAA\u73AF\u8F6E\u64AD
          timeoutTimer = setTimeout(tickNum, loopDuration || 10000);
          cur = num;
        }
        setCurNum(toFixed(cur, isInt ? 0 : 2));
      }, duration || 50);
    }
    tickNum();
    return () => {
      clearInterval(timer);
      clearTimeout(timeoutTimer);
    };
  }, [num]);
  return <strong className={className} style={style}>{curNum}</strong>
}

export default DynamicNum;
`},22648:function(a,e){Object.defineProperty(e,"__esModule",{value:!0});function n(t,r){return t<=0?[]:new Array(t).fill(null).map((u,l)=>r(l))}e.default=n},3174:function(a,e){Object.defineProperty(e,"__esModule",{value:!0}),e.calculateCentroid=e.appendCentroid=e.convert3857ToWGS84=void 0;function n(u,l){const i=u/6378137*(180/Math.PI),o=(2*Math.atan(Math.exp(l/6378137))-Math.PI/2)*(180/Math.PI);return{longitude:i,latitude:o}}e.convert3857ToWGS84=n;function t(u){const l=u.features.map(c=>j(h({},c),{properties:j(h({},c.properties),{centroid:r(c.geometry)})}));return j(h({},u),{features:l})}e.appendCentroid=t;function r(u){let l=0,c=0,i=0;const o=u.coordinates[0];for(let d=0;d<o.length;d++){const f=(d+1)%o.length,_=o[d][0],m=o[d][1],b=o[f][0],s=o[f][1],g=(_*s-b*m)/2;i+=g,l+=(_+b)*g,c+=(m+s)*g}return i===0?null:[l/(3*i),c/(3*i)]}e.calculateCentroid=r},63838:function(a,e){Object.defineProperty(e,"__esModule",{value:!0});function n(t){if(!t)return{x:1,y:1};const r=t.getBoundingClientRect();return{x:r.width/t.offsetWidth,y:r.height/t.offsetHeight}}e.default=n},22367:function(a,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n=>Object.prototype.toString.call(n).slice(8,-1)},79924:function(a,e){Object.defineProperty(e,"__esModule",{value:!0});function n(t,r){if(r<=0)return[];const u=[];for(let l=0;l<t.length;l+=r)u.push(t.slice(l,l+r));return u}e.default=n},72630:function(a,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.getDomScale=e.urlFormat=e.stringRealLen=e.sleep=e.range2Arr=e.linearScale=e.isPhoneNumber=e.isIdentityCard=e.validFunc=e.timeFormat=e.stringEllipsis=e.reverseArr=e.nonEmptyArr=e.jsonParse=e.isJsonString=e.isBigger=e.getType=e.randomStr=e.genList=e.calculateCentroid=e.appendCentroid=e.convert3857ToWGS84=e.groupArray=e.fmtNumber=e.randomNum=e.isNumber=e.toFixed=e.percent=void 0;const t=n(44751);Object.defineProperty(e,"percent",{enumerable:!0,get:function(){return t.percent}}),Object.defineProperty(e,"toFixed",{enumerable:!0,get:function(){return t.toFixed}}),Object.defineProperty(e,"isNumber",{enumerable:!0,get:function(){return t.isNumber}}),Object.defineProperty(e,"randomNum",{enumerable:!0,get:function(){return t.randomNum}}),Object.defineProperty(e,"fmtNumber",{enumerable:!0,get:function(){return t.fmtNumber}});const r=n(79924);e.groupArray=r.default;const u=n(3174);Object.defineProperty(e,"convert3857ToWGS84",{enumerable:!0,get:function(){return u.convert3857ToWGS84}}),Object.defineProperty(e,"appendCentroid",{enumerable:!0,get:function(){return u.appendCentroid}}),Object.defineProperty(e,"calculateCentroid",{enumerable:!0,get:function(){return u.calculateCentroid}});const l=n(22648);e.genList=l.default;var c=n(86335);Object.defineProperty(e,"randomStr",{enumerable:!0,get:function(){return c.default}});var i=n(22367);Object.defineProperty(e,"getType",{enumerable:!0,get:function(){return i.default}});var o=n(50204);Object.defineProperty(e,"isBigger",{enumerable:!0,get:function(){return o.default}});var d=n(76839);Object.defineProperty(e,"isJsonString",{enumerable:!0,get:function(){return d.default}});var f=n(30386);Object.defineProperty(e,"jsonParse",{enumerable:!0,get:function(){return f.default}});var _=n(26800);Object.defineProperty(e,"nonEmptyArr",{enumerable:!0,get:function(){return _.default}});var m=n(12878);Object.defineProperty(e,"reverseArr",{enumerable:!0,get:function(){return m.default}});var b=n(94829);Object.defineProperty(e,"stringEllipsis",{enumerable:!0,get:function(){return b.default}});var s=n(148);Object.defineProperty(e,"timeFormat",{enumerable:!0,get:function(){return s.default}});var g=n(49273);Object.defineProperty(e,"validFunc",{enumerable:!0,get:function(){return g.default}});var y=n(35512);Object.defineProperty(e,"isIdentityCard",{enumerable:!0,get:function(){return y.default}});var M=n(18887);Object.defineProperty(e,"isPhoneNumber",{enumerable:!0,get:function(){return M.default}});var P=n(65997);Object.defineProperty(e,"linearScale",{enumerable:!0,get:function(){return P.default}});var v=n(73094);Object.defineProperty(e,"range2Arr",{enumerable:!0,get:function(){return v.default}});var O=n(50968);Object.defineProperty(e,"sleep",{enumerable:!0,get:function(){return O.default}});var p=n(36894);Object.defineProperty(e,"stringRealLen",{enumerable:!0,get:function(){return p.default}});var E=n(69956);Object.defineProperty(e,"urlFormat",{enumerable:!0,get:function(){return E.default}});var D=n(63838);Object.defineProperty(e,"getDomScale",{enumerable:!0,get:function(){return D.default}})},50204:function(a,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=(n,t)=>n===null||t===null||Number.isNaN(Number(n))||Number.isNaN(Number(t))?!1:Number(n)>Number(t)},35512:function(a,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n=>{const t=String(n),r=/\d{8}(0\d|10|11|12)([0-2]\d|30|31)\d{3}$|^\d{6}(18|19|20)\d{2}(0\d|10|11|12)([0-2]\d|30|31)\d{3}[\dXx]$/,u=t.length===15?8:10,l=Number(t.slice(6,u)),c=Number(t.slice(u,u+2)),i=Number(t.slice(u+2,u+4));if(l%400===0||l%4===0&&l%100!==0){if(c===2&&i>29)return!1}else if(c===2&&i>28)return!1;if(r.test(t)&&t.length===18){const o=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],d={0:"1",1:"0",2:"X",3:"9",4:"8",5:"7",6:"6",7:"5",8:"4",9:"3",10:"2"};let f=0;return o.forEach((m,b)=>{const s=Number(t[b]);f+=m*s}),d[f%11]===t[17].toUpperCase()}return r.test(t)}},76839:function(a,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n=>{try{JSON.parse(n)}catch(t){return!1}return!0}},18887:function(a,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n=>/^(?:(?:\+|00)86)?1(?:(?:3[\d])|(?:4[5-7|9])|(?:5[0-3|5-9])|(?:6[5-7])|(?:7[0-8])|(?:8[\d])|(?:9[1|8|9]))\d{8}$/.test(String(n))},30386:function(a,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n=>{try{return JSON.parse(n)}catch(t){return""}}},65997:function(a,e){Object.defineProperty(e,"__esModule",{value:!0});function n(t,r){const[u,l]=t,c=(r[1]-r[0])/(l-u);return i=>i<=u?r[0]:i>=l?r[1]:r[0]+(Math.min(l,i)-u)*c}e.default=n},26800:function(a,e,n){Object.defineProperty(e,"__esModule",{value:!0});const t=n(22367);e.default=r=>(0,t.default)(r)==="Array"&&r.length>0},44751:function(a,e){Object.defineProperty(e,"__esModule",{value:!0}),e.fmtNumber=e.randomNum=e.toFixed=e.isNumber=e.percent=void 0;const n=(i,o)=>`${Math.round(i*1e4/o)/100}%`;e.percent=n;const t=i=>i===0||i==="0"?!0:!!Number(i);e.isNumber=t;const r=(i,o=2)=>{if(!(0,e.isNumber)(i))return i;if(o){const d=Math.pow(10,o);return Math.round(d*i)/d}return Math.round(i)};e.toFixed=r;const u=(i=1,o=0)=>(0,e.toFixed)(Math.random()*i,o);e.randomNum=u;const l=[{value:1e12,symbol:"\u4E07\u4EBF"},{value:1e8,symbol:"\u4EBF"},{value:1e4,symbol:"\u4E07"},{value:1e3,symbol:"\u5343"}];function c(i,o=l){for(const d of o)if(i>=d.value)return{value:(0,e.toFixed)(i/d.value,1),symbol:d.symbol};return{value:i,symbol:""}}e.fmtNumber=c},86335:function(a,e){Object.defineProperty(e,"__esModule",{value:!0});function n(t,r){const u=0<t&&t<12?t+2:13,l=Math.random().toString(32).slice(2,u);return r?r+"-"+l:l}e.default=n},73094:function(a,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=(n=[])=>{if(!n)return[];if(!Array.isArray(n))return[];const{length:t}=n;return t===1?Array(2).fill(n[0]):n.slice(0,-1).map((r,u)=>[r,n[u+1]])}},12878:function(a,e,n){Object.defineProperty(e,"__esModule",{value:!0});const t=n(22367),r=n(26800);e.default=(u,l)=>{if(!(0,r.default)(u))return[];const c=u.length-1,i=[];if((0,t.default)(l)==="Function")for(let o=c;o>=0;o--)i.push(l(u[o],o));else for(let o=c;o>=0;o--)i.push(u[o]);return i}},50968:function(a,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n=>new Promise(t=>{setTimeout(()=>{t()},n)})},94829:function(a,e,n){Object.defineProperty(e,"__esModule",{value:!0});const t=n(36894),r=n(22367),u=n(50204);e.default=(l,c)=>{if((0,r.default)(l)!=="String")return"";if(!(0,u.default)((0,t.default)(l),c))return l;let i=0;for(;i<=c;){i+=1;const o=l.substring(0,i);if((0,t.default)(o)>c)return`${o.substring(0,i-1)}...`}}},36894:function(a,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n=>n.replace(/[\u4e00-\u9fa5]/g,"ss").length},148:function(a,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=(n,t)=>{if(!n||!t)return t;const r=new Date(n);if(r.toString()==="Invalid Date")return t;r.setHours(r.getHours()+8);const[,u,l,c,i,o,d]=r.toISOString().match(/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})/);return t.replace("YYYY",u).replace("YY",u.slice(-2)).replace("MM",l).replace("DD",c).replace("HH",i).replace("mm",o).replace("ss",d)}},69956:function(a,e,n){Object.defineProperty(e,"__esModule",{value:!0});const t=n(22367);function r(u){if((0,t.default)(u)!=="String")throw new Error("the param of urlFormat must be string");const l=u.indexOf("?");if(l===-1)return{};const c=u.substring(l+1),i=new URLSearchParams(c),o={};for(const[d,f]of i.entries())o[d]=f;return o}e.default=r},49273:function(a,e,n){Object.defineProperty(e,"__esModule",{value:!0});const t=n(22367);function r(u,...l){return(0,t.default)(u)==="Function"&&u(...l)}e.default=r}}]);
}());