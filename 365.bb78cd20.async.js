!(function(){"use strict";var Ee=Object.defineProperty,xe=Object.defineProperties;var Me=Object.getOwnPropertyDescriptors;var J=Object.getOwnPropertySymbols;var we=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable;var Y=(v,h,m)=>h in v?Ee(v,h,{enumerable:!0,configurable:!0,writable:!0,value:m}):v[h]=m,L=(v,h)=>{for(var m in h||(h={}))we.call(h,m)&&Y(v,m,h[m]);if(J)for(var m of J(h))be.call(h,m)&&Y(v,m,h[m]);return v},k=(v,h)=>xe(v,Me(h));(self.webpackChunklin_lib=self.webpackChunklin_lib||[]).push([[365],{22730:function(){},78194:function(v){var h={},m="x",s=[],O=function(d){return s.push(d)},B=function(d){return d.replace(/[A-Z]|^ms/g,"-$&").toLowerCase()},W=function(d,g){return g?g+"{"+d+"}":d},Z=function(d,g,x){return"."+d+"{"+B(g)+":"+x+"}"},p=function(d){return d.replace(/&/g,"")},j=function C(d){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",x=arguments[2];return Object.keys(d).map(function(w){var T=d[w];if(T===null)return"";if(typeof T=="object"){var D=/^@/.test(w)?w:null,V=D?g:g+w;return C(T,V,D||x)}var b=w+T+g+x;if(h[b])return h[b];var U=m+s.length.toString(36);return O(W(Z(U+p(g),w,T),x)),h[b]=U,U}).join(" ")};if(v.exports=function(){for(var C=arguments.length,d=Array(C),g=0;g<C;g++)d[g]=arguments[g];return d.map(function(x){return j(x)}).join(" ").trim()},v.exports.css=function(){return s.sort().join("")},v.exports.reset=function(){for(h={};s.length;)s.pop()},v.exports.prefix=function(C){return m=C},typeof document!="undefined"){var F=document.head.appendChild(document.createElement("style")).sheet;O=function(d){s.push(d),F.insertRule(d,F.cssRules.length)}}},95058:function(v,h,m){m.d(h,{mh:function(){return _e},D5:function(){return re},Jx:function(){return ae},Hw:function(){return pe},Sx:function(){return W}});var s=m(75271);const O=s.createContext(null),B=e=>{const[t,n]=useState({}),i=useCallback((r,a="default")=>{n(c=>{if(a==="current")throw new Error("'current' cannot be used as map id");if(c[a])throw new Error(`Multiple maps with the same id: ${a}`);return k(L({},c),{[a]:r})})},[]),o=useCallback((r="default")=>{n(a=>{if(a[r]){const c=L({},a);return delete c[r],c}return a})},[]);return React.createElement(O.Provider,{value:{maps:t,onMapMount:i,onMapUnmount:o}},e.children)};function W(){var i;const e=(i=(0,s.useContext)(O))==null?void 0:i.maps,t=(0,s.useContext)(I);return(0,s.useMemo)(()=>k(L({},e),{current:t==null?void 0:t.map}),[e,t])}function Z(e,t){const n=Array.isArray(e)?e[0]:e?e.x:0,i=Array.isArray(e)?e[1]:e?e.y:0,o=Array.isArray(t)?t[0]:t?t.x:0,r=Array.isArray(t)?t[1]:t?t.y:0;return n===o&&i===r}function p(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!p(e[n],t[n]))return!1;return!0}else if(Array.isArray(t))return!1;if(typeof e=="object"&&typeof t=="object"){const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(const o of n)if(!t.hasOwnProperty(o)||!p(e[o],t[o]))return!1;return!0}return!1}function j(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function F(e,t){const n=t.viewState||t,i={};if("longitude"in n&&"latitude"in n&&(n.longitude!==e.center.lng||n.latitude!==e.center.lat)){const o=e.center.constructor;i.center=new o(n.longitude,n.latitude)}return"zoom"in n&&n.zoom!==e.zoom&&(i.zoom=n.zoom),"bearing"in n&&n.bearing!==e.bearing&&(i.bearing=n.bearing),"pitch"in n&&n.pitch!==e.pitch&&(i.pitch=n.pitch),n.padding&&e.padding&&!p(n.padding,e.padding)&&(i.padding=n.padding),i}const C=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function d(e){if(!e)return null;if(typeof e=="string"||("toJS"in e&&(e=e.toJS()),!e.layers))return e;const t={};for(const i of e.layers)t[i.id]=i;const n=e.layers.map(i=>{let o=null;"interactive"in i&&(o=Object.assign({},i),delete o.interactive);const r=t[i.ref];if(r){o=o||Object.assign({},i),delete o.ref;for(const a of C)a in r&&(o[a]=r[a])}return o||i});return k(L({},e),{layers:n})}const g={version:8,sources:{},layers:[]},x={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},w={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},T={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},D=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],V=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class b{constructor(t,n,i){this._map=null,this._internalUpdate=!1,this._hoveredFeatures=null,this._propsedCameraUpdate=null,this._styleComponents={},this._onEvent=o=>{const r=this.props[T[o.type]];r?r(o):o.type==="error"&&console.error(o.error)},this._onCameraEvent=o=>{if(this._internalUpdate)return;o.viewState=this._propsedCameraUpdate||j(this._map.transform);const r=this.props[w[o.type]];r&&r(o)},this._onCameraUpdate=o=>this._internalUpdate?o:(this._propsedCameraUpdate=j(o),F(o,this.props)),this._onPointerEvent=o=>{(o.type==="mousemove"||o.type==="mouseout")&&this._updateHover(o);const r=this.props[x[o.type]];r&&(this.props.interactiveLayerIds&&o.type!=="mouseover"&&o.type!=="mouseout"&&(o.features=this._hoveredFeatures||this._queryRenderedFeatures(o.point)),r(o),delete o.features)},this._MapClass=t,this.props=n,this._initialize(i)}get map(){return this._map}setProps(t){const n=this.props;this.props=t;const i=this._updateSettings(t,n),o=this._updateSize(t),r=this._updateViewState(t);this._updateStyle(t,n),this._updateStyleComponents(t),this._updateHandlers(t,n),(i||o||r&&!this._map.isMoving())&&this.redraw()}static reuse(t,n){const i=b.savedMaps.pop();if(!i)return null;const o=i.map,r=o.getContainer();for(n.className=r.className;r.childNodes.length>0;)n.appendChild(r.childNodes[0]);o._container=n;const a=o._resizeObserver;a&&(a.disconnect(),a.observe(n)),i.setProps(k(L({},t),{styleDiffing:!1})),o.resize();const{initialViewState:c}=t;return c&&(c.bounds?o.fitBounds(c.bounds,k(L({},c.fitBoundsOptions),{duration:0})):i._updateViewState(c)),o.isStyleLoaded()?o.fire("load"):o.once("style.load",()=>o.fire("load")),o._update(),i}_initialize(t){const{props:n}=this,{mapStyle:i=g}=n,o=k(L(L({},n),n.initialViewState),{container:t,style:d(i)}),r=o.initialViewState||o.viewState||o;if(Object.assign(o,{center:[r.longitude||0,r.latitude||0],zoom:r.zoom||0,pitch:r.pitch||0,bearing:r.bearing||0}),n.gl){const c=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=c,n.gl)}const a=new this._MapClass(o);r.padding&&a.setPadding(r.padding),n.cursor&&(a.getCanvas().style.cursor=n.cursor),a.transformCameraUpdate=this._onCameraUpdate,a.on("style.load",()=>{var c;this._styleComponents={light:a.getLight(),sky:a.getSky(),projection:(c=a.getProjection)==null?void 0:c.call(a),terrain:a.getTerrain()},this._updateStyleComponents(this.props)}),a.on("sourcedata",()=>{this._updateStyleComponents(this.props)});for(const c in x)a.on(c,this._onPointerEvent);for(const c in w)a.on(c,this._onCameraEvent);for(const c in T)a.on(c,this._onEvent);this._map=a}recycle(){const n=this.map.getContainer().querySelector("[mapboxgl-children]");n==null||n.remove(),b.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const t=this._map;t.style&&(t._frame&&(t._frame.cancel(),t._frame=null),t._render())}_updateSize(t){const{viewState:n}=t;if(n){const i=this._map;if(n.width!==i.transform.width||n.height!==i.transform.height)return i.resize(),!0}return!1}_updateViewState(t){const n=this._map,i=n.transform;if(!n.isMoving()){const r=F(i,t);if(Object.keys(r).length>0)return this._internalUpdate=!0,n.jumpTo(r),this._internalUpdate=!1,!0}return!1}_updateSettings(t,n){const i=this._map;let o=!1;for(const r of D)if(r in t&&!p(t[r],n[r])){o=!0;const a=i[`set${r[0].toUpperCase()}${r.slice(1)}`];a==null||a.call(i,t[r])}return o}_updateStyle(t,n){if(t.cursor!==n.cursor&&(this._map.getCanvas().style.cursor=t.cursor||""),t.mapStyle!==n.mapStyle){const{mapStyle:i=g,styleDiffing:o=!0}=t,r={diff:o};"localIdeographFontFamily"in t&&(r.localIdeographFontFamily=t.localIdeographFontFamily),this._map.setStyle(d(i),r)}}_updateStyleComponents({light:t,projection:n,sky:i,terrain:o}){var c,u;const r=this._map,a=this._styleComponents;r.style._loaded&&(t&&!p(t,a.light)&&(a.light=t,r.setLight(t)),n&&!p(n,a.projection)&&n!==((c=a.projection)==null?void 0:c.type)&&(a.projection=typeof n=="string"?{type:n}:n,(u=r.setProjection)==null||u.call(r,a.projection)),i&&!p(i,a.sky)&&(a.sky=i,r.setSky(i)),o!==void 0&&!p(o,a.terrain)&&(!o||r.getSource(o.source))&&(a.terrain=o,r.setTerrain(o)))}_updateHandlers(t,n){var o,r;const i=this._map;for(const a of V){const c=(o=t[a])!=null?o:!0,u=(r=n[a])!=null?r:!0;p(c,u)||(c?i[a].enable(c):i[a].disable())}}_queryRenderedFeatures(t){const n=this._map,{interactiveLayerIds:i=[]}=this.props;try{return n.queryRenderedFeatures(t,{layers:i.filter(n.getLayer.bind(n))})}catch(o){return[]}}_updateHover(t){var o;const{props:n}=this;if(n.interactiveLayerIds&&(n.onMouseMove||n.onMouseEnter||n.onMouseLeave)){const r=t.type,a=((o=this._hoveredFeatures)==null?void 0:o.length)>0,c=this._queryRenderedFeatures(t.point),u=c.length>0;!u&&a&&(t.type="mouseleave",this._onPointerEvent(t)),this._hoveredFeatures=c,u&&!a&&(t.type="mouseenter",this._onPointerEvent(t)),t.type=r}else this._hoveredFeatures=null}}b.savedMaps=[];var U=b;const Q=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function X(e){if(!e)return null;const t=e.map,n={getMap:()=>t};for(const i of ee(t))!(i in n)&&!Q.includes(i)&&(n[i]=t[i].bind(t));return n}function ee(e){const t=new Set;let n=e;for(;n;){for(const i of Object.getOwnPropertyNames(n))i[0]!=="_"&&typeof e[i]=="function"&&i!=="fire"&&i!=="setEventedParent"&&t.add(i);n=Object.getPrototypeOf(n)}return Array.from(t)}var te=typeof document!="undefined"?s.useLayoutEffect:s.useEffect;function ne(e,t){const{RTLTextPlugin:n,maxParallelImageRequests:i,workerCount:o,workerUrl:r}=t;if(n&&e.getRTLTextPluginStatus&&e.getRTLTextPluginStatus()==="unavailable"){const{pluginUrl:a,lazy:c=!0}=typeof n=="string"?{pluginUrl:n}:n;e.setRTLTextPlugin(a,u=>{u&&console.error(u)},c)}i!==void 0&&e.setMaxParallelImageRequests(i),o!==void 0&&e.setWorkerCount(o),r!==void 0&&e.setWorkerUrl(r)}const I=s.createContext(null);function oe(e,t){const n=(0,s.useContext)(O),[i,o]=(0,s.useState)(null),r=(0,s.useRef)(),{current:a}=(0,s.useRef)({mapLib:null,map:null});(0,s.useEffect)(()=>{const l=e.mapLib;let y=!0,f;return Promise.resolve(l||m.e(810).then(m.t.bind(m,35810,19))).then(M=>{if(!y)return;if(!M)throw new Error("Invalid mapLib");const _="Map"in M?M:M.default;if(!_.Map)throw new Error("Invalid mapLib");if(ne(_,e),!_.supported||_.supported(e))e.reuseMaps&&(f=U.reuse(e,r.current)),f||(f=new U(_.Map,e,r.current)),a.map=X(f),a.mapLib=_,o(f),n==null||n.onMapMount(a.map,e.id);else throw new Error("Map is not supported by this browser")}).catch(M=>{const{onError:_}=e;_?_({type:"error",target:null,originalEvent:null,error:M}):console.error(M)}),()=>{y=!1,f&&(n==null||n.onMapUnmount(e.id),e.reuseMaps?f.recycle():f.destroy())}},[]),te(()=>{i&&i.setProps(e)}),(0,s.useImperativeHandle)(t,()=>a.map,[i]);const c=(0,s.useMemo)(()=>L({position:"relative",width:"100%",height:"100%"},e.style),[e.style]),u={height:"100%"};return s.createElement("div",{id:e.id,ref:r,style:c},i&&s.createElement(I.Provider,{value:a},s.createElement("div",{"mapboxgl-children":"",style:u},e.children)))}const re=s.forwardRef(oe);var $=m(30967);const ie=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function R(e,t){if(!e||!t)return;const n=e.style;for(const i in t){const o=t[i];Number.isFinite(o)&&!ie.test(i)?n[i]=`${o}px`:n[i]=o}}const ae=(0,s.memo)((0,s.forwardRef)((e,t)=>{const{map:n,mapLib:i}=(0,s.useContext)(I),o=(0,s.useRef)({props:e});o.current.props=e;const r=(0,s.useMemo)(()=>{let K=!1;s.Children.forEach(e.children,P=>{P&&(K=!0)});const Se=k(L({},e),{element:K?document.createElement("div"):null}),N=new i.Marker(Se);return N.setLngLat([e.longitude,e.latitude]),N.getElement().addEventListener("click",P=>{var S,E;(E=(S=o.current.props).onClick)==null||E.call(S,{type:"click",target:N,originalEvent:P})}),N.on("dragstart",P=>{var E,z;const S=P;S.lngLat=r.getLngLat(),(z=(E=o.current.props).onDragStart)==null||z.call(E,S)}),N.on("drag",P=>{var E,z;const S=P;S.lngLat=r.getLngLat(),(z=(E=o.current.props).onDrag)==null||z.call(E,S)}),N.on("dragend",P=>{var E,z;const S=P;S.lngLat=r.getLngLat(),(z=(E=o.current.props).onDragEnd)==null||z.call(E,S)}),N},[]);(0,s.useEffect)(()=>(r.addTo(n.getMap()),()=>{r.remove()}),[]);const{longitude:a,latitude:c,offset:u,style:l,draggable:y=!1,popup:f=null,rotation:M=0,rotationAlignment:_="auto",pitchAlignment:q="auto"}=e;return(0,s.useEffect)(()=>{R(r.getElement(),l)},[l]),(0,s.useImperativeHandle)(t,()=>r,[]),(r.getLngLat().lng!==a||r.getLngLat().lat!==c)&&r.setLngLat([a,c]),u&&!Z(r.getOffset(),u)&&r.setOffset(u),r.isDraggable()!==y&&r.setDraggable(y),r.getRotation()!==M&&r.setRotation(M),r.getRotationAlignment()!==_&&r.setRotationAlignment(_),r.getPitchAlignment()!==q&&r.setPitchAlignment(q),r.getPopup()!==f&&r.setPopup(f),(0,$.createPortal)(e.children,r.getElement())}));function G(e){return new Set(e?e.trim().split(/\s+/):[])}const Pe=(0,s.memo)((0,s.forwardRef)((e,t)=>{const{map:n,mapLib:i}=(0,s.useContext)(I),o=(0,s.useMemo)(()=>document.createElement("div"),[]),r=(0,s.useRef)({props:e});r.current.props=e;const a=(0,s.useMemo)(()=>{const c=L({},e),u=new i.Popup(c);return u.setLngLat([e.longitude,e.latitude]),u.once("open",l=>{var y,f;(f=(y=r.current.props).onOpen)==null||f.call(y,l)}),u},[]);if((0,s.useEffect)(()=>{const c=u=>{var l,y;(y=(l=r.current.props).onClose)==null||y.call(l,u)};return a.on("close",c),a.setDOMContent(o).addTo(n.getMap()),()=>{a.off("close",c),a.isOpen()&&a.remove()}},[]),(0,s.useEffect)(()=>{R(a.getElement(),e.style)},[e.style]),(0,s.useImperativeHandle)(t,()=>a,[]),a.isOpen()&&((a.getLngLat().lng!==e.longitude||a.getLngLat().lat!==e.latitude)&&a.setLngLat([e.longitude,e.latitude]),e.offset&&!p(a.options.offset,e.offset)&&a.setOffset(e.offset),(a.options.anchor!==e.anchor||a.options.maxWidth!==e.maxWidth)&&(a.options.anchor=e.anchor,a.setMaxWidth(e.maxWidth)),a.options.className!==e.className)){const c=G(a.options.className),u=G(e.className);for(const l of c)u.has(l)||a.removeClassName(l);for(const l of u)c.has(l)||a.addClassName(l);a.options.className=e.className}return(0,$.createPortal)(e.children,o)}));function A(e,t,n,i){const o=(0,s.useContext)(I),r=(0,s.useMemo)(()=>e(o),[]);return(0,s.useEffect)(()=>{const a=i||n||t,c=typeof t=="function"&&typeof n=="function"?t:null,u=typeof n=="function"?n:typeof t=="function"?t:null,{map:l}=o;return l.hasControl(r)||(l.addControl(r,a==null?void 0:a.position),c&&c(o)),()=>{u&&u(o),l.hasControl(r)&&l.removeControl(r)}},[]),r}function se(e){const t=A(({mapLib:n})=>new n.AttributionControl(e),{position:e.position});return(0,s.useEffect)(()=>{R(t._container,e.style)},[e.style]),null}const ke=(0,s.memo)(se);function ce(e){const t=A(({mapLib:n})=>new n.FullscreenControl({container:e.containerId&&document.getElementById(e.containerId)}),{position:e.position});return(0,s.useEffect)(()=>{R(t._controlContainer,e.style)},[e.style]),null}const Te=(0,s.memo)(ce);function ue(e,t){const n=(0,s.useRef)({props:e}),i=A(({mapLib:o})=>{const r=new o.GeolocateControl(e),a=r._setupUI;return r._setupUI=()=>{r._container.hasChildNodes()||a()},r.on("geolocate",c=>{var u,l;(l=(u=n.current.props).onGeolocate)==null||l.call(u,c)}),r.on("error",c=>{var u,l;(l=(u=n.current.props).onError)==null||l.call(u,c)}),r.on("outofmaxbounds",c=>{var u,l;(l=(u=n.current.props).onOutOfMaxBounds)==null||l.call(u,c)}),r.on("trackuserlocationstart",c=>{var u,l;(l=(u=n.current.props).onTrackUserLocationStart)==null||l.call(u,c)}),r.on("trackuserlocationend",c=>{var u,l;(l=(u=n.current.props).onTrackUserLocationEnd)==null||l.call(u,c)}),r},{position:e.position});return n.current.props=e,(0,s.useImperativeHandle)(t,()=>i,[]),(0,s.useEffect)(()=>{R(i._container,e.style)},[e.style]),null}const ze=(0,s.memo)((0,s.forwardRef)(ue));function le(e){const t=A(({mapLib:n})=>new n.NavigationControl(e),{position:e.position});return(0,s.useEffect)(()=>{R(t._container,e.style)},[e.style]),null}const Ie=(0,s.memo)(le);function fe(e){const t=A(({mapLib:r})=>new r.ScaleControl(e),{position:e.position}),n=(0,s.useRef)(e),i=n.current;n.current=e;const{style:o}=e;return e.maxWidth!==void 0&&e.maxWidth!==i.maxWidth&&(t.options.maxWidth=e.maxWidth),e.unit!==void 0&&e.unit!==i.unit&&t.setUnit(e.unit),(0,s.useEffect)(()=>{R(t._container,o)},[o]),null}const Ae=(0,s.memo)(fe);function de(e){const t=A(({mapLib:n})=>new n.TerrainControl(e),{position:e.position});return(0,s.useEffect)(()=>{R(t._container,e.style)},[e.style]),null}const Ne=(0,s.memo)(de);function me(e){const t=A(({mapLib:n})=>new n.LogoControl(e),{position:e.position});return(0,s.useEffect)(()=>{R(t._container,e.style)},[e.style]),null}const Oe=(0,s.memo)(me);function H(e,t){if(!e)throw new Error(t)}let he=0;function ge(e,t,n){if(e.style&&e.style._loaded){const i=L({},n);return delete i.id,delete i.children,e.addSource(t,i),e.getSource(t)}return null}function ye(e,t,n){var a,c,u;H(t.id===n.id,"source id changed"),H(t.type===n.type,"source type changed");let i="",o=0;for(const l in t)l!=="children"&&l!=="id"&&!p(n[l],t[l])&&(i=l,o++);if(!o)return;const r=t.type;if(r==="geojson")e.setData(t.data);else if(r==="image")e.updateImage({url:t.url,coordinates:t.coordinates});else switch(i){case"coordinates":(a=e.setCoordinates)==null||a.call(e,t.coordinates);break;case"url":(c=e.setUrl)==null||c.call(e,t.url);break;case"tiles":(u=e.setTiles)==null||u.call(e,t.tiles);break;default:console.warn(`Unable to update <Source> prop: ${i}`)}}function pe(e){const t=(0,s.useContext)(I).map.getMap(),n=(0,s.useRef)(e),[,i]=(0,s.useState)(0),o=(0,s.useMemo)(()=>e.id||`jsx-source-${he++}`,[]);(0,s.useEffect)(()=>{if(t){const a=()=>setTimeout(()=>i(c=>c+1),0);return t.on("styledata",a),a(),()=>{var c;if(t.off("styledata",a),t.style&&t.style._loaded&&t.getSource(o)){const u=(c=t.getStyle())==null?void 0:c.layers;if(u)for(const l of u)l.source===o&&t.removeLayer(l.id);t.removeSource(o)}}}},[t]);let r=t&&t.style&&t.getSource(o);return r?ye(r,e,n.current):r=ge(t,o,e),n.current=e,r&&s.Children.map(e.children,a=>a&&(0,s.cloneElement)(a,{source:o}))||null}function ve(e,t,n,i){if(H(n.id===i.id,"layer id changed"),H(n.type===i.type,"layer type changed"),n.type==="custom"||i.type==="custom")return;const{layout:o={},paint:r={},filter:a,minzoom:c,maxzoom:u,beforeId:l}=n;if(l!==i.beforeId&&e.moveLayer(t,l),o!==i.layout){const y=i.layout||{};for(const f in o)p(o[f],y[f])||e.setLayoutProperty(t,f,o[f]);for(const f in y)o.hasOwnProperty(f)||e.setLayoutProperty(t,f,void 0)}if(r!==i.paint){const y=i.paint||{};for(const f in r)p(r[f],y[f])||e.setPaintProperty(t,f,r[f]);for(const f in y)r.hasOwnProperty(f)||e.setPaintProperty(t,f,void 0)}p(a,i.filter)||e.setFilter(t,a),(c!==i.minzoom||u!==i.maxzoom)&&e.setLayerZoomRange(t,c,u)}function Ce(e,t,n){if(e.style&&e.style._loaded&&(!("source"in n)||e.getSource(n.source))){const i=k(L({},n),{id:t});delete i.beforeId,e.addLayer(i,n.beforeId)}}let Le=0;function _e(e){const t=(0,s.useContext)(I).map.getMap(),n=(0,s.useRef)(e),[,i]=(0,s.useState)(0),o=(0,s.useMemo)(()=>e.id||`jsx-layer-${Le++}`,[]);if((0,s.useEffect)(()=>{if(t){const a=()=>i(c=>c+1);return t.on("styledata",a),a(),()=>{t.off("styledata",a),t.style&&t.style._loaded&&t.getLayer(o)&&t.removeLayer(o)}}},[t]),t&&t.style&&t.getLayer(o))try{ve(t,o,e,n.current)}catch(a){console.warn(a)}else Ce(t,o,e);return n.current=e,null}var Ue=null}}]);
}());